<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE faqs PUBLIC "-//APACHE//DTD FAQ V1.1//EN" "dtd/faq-v11.dtd" [
<!ENTITY s '<code>site.xml</code>'>
]>

<faqs title="Frequently Asked Questions">

  <part id="getting_started">
    <title>Building Forrest</title>
    <faq id="checked_out_now_what">
      <question>
        I have checked out a working copy of <code>xml-forrest</code> CVS, now what?
      </question>
      <answer>
        <p>
          Run &quot;<code>./build.sh docs</code>&quot; to see the documentation
          for Forrest.
          The documentation is generated in the <code>build/site/</code> directory.
          Logfiles are in the <code>build/tmp/context/WEB-INF/logs/</code> directory.
        </p>
      </answer>
    </faq>

    <faq id="cygwin_mutex_error">
      <question>
        When running <code>./build.sh</code> in cygwin, I get an error:
        <code>cygpath.exe: *** can't create title mutex, Win32 error 6</code>. 
      </question>
      <answer>
        <p>
          This <link
            href="http://issues.cocoondev.org/jira//secure/ViewIssue.jspa?key=FOR-10">appears
            to be a bug in cygwin</link>.  Please use the .bat script instead.
        </p>
      </answer>
    </faq>

    <faq id="build_fails_subsequent_builds">
      <question>
        Why is build docs failing on subsequent builds?
      </question>
      <answer>
        <p>
          It is a bug. Workaround: <code>./build.sh clean docs</code> every time.
          There is an entry on the <link href="site:todo">To Do List</link>.
        </p>
      </answer>
    </faq>
  </part>



  <part id="technical">
    <title>Technical</title>
    <faq id="validation_error:doctype_root_null">
      <question>
        When building my project, I get an validation error: <code>Document root
          element "site", must match DOCTYPE root "null".</code>.
      </question>
      <answer>
        <p>
          You are probably trying to build the project with an old version of
          Forrest (built before 2003-01-08) that is incorrectly trying to validate
          the &s; file.  If so, please update your Forrest
          installation.
        </p>
        <p>
          Alternatively, you may be building with an up-to-date Forrest, but have
          overridden <code>forrest.validate.xdocs.excludes</code> in
          <code>forrest.properties</code>.  With the introduction of
          &s;, the above property must have &s;
          listed to prevent an attempt at DTD-based validation.
        </p>
      </answer>
    </faq>

    <faq id="unresolved_project.home">
      <question>When invoking Forrest 0.4 from the
        <code>forrest.antproxy.xml</code>, the build fails because
        <code>${project.home}</code> isn't resolved.
      </question>
      <answer>
        <p>This is a bug in 0.4. The following modification to
          <code>FORREST_HOME/forrest.antproxy.xml</code> should fix it:</p>
        <source
><![CDATA[--- forrest.antproxy.xml        7 Feb 2003 22:21:15 -0000       1.2
+++ forrest.antproxy.xml        22 Feb 2003 09:39:42 -0000
@@ -41,6 +41,7 @@
   </path>
 
   <target name="forrest">
+    <property name="project.home" location="."/>
     <java classname="org.apache.tools.ant.Main" fork="true">
       <classpath refid="forrest-classpath"/>
       <jvmarg value="-Dforrest.home=${forrest.home}"/>]]></source>
      </answer>
    </faq>

    <faq id="index.html">
      <question>
        The tab link in my site incorrectly assumes that 'index.html' is present in
        the linked-to directory. How do I fix this?
      </question>
      <answer>
        <p>
          In <code>tabs.xml</code>, use @href instead of @dir, and omit the trailing
          '/'. That will leave which file to serve up to the sitemap.  For example, if
          the 'User Manual' tab should link to <code>manual/Introduction.html</code>,
          <code>tabs.xml</code> should contain:
        </p>
        <source><![CDATA[
          <tab label="User Manual" href="manual"/>
          ]]></source>
        <p>
          and add this rule to the sitemap:
        </p>
        <source><![CDATA[
          <map:match pattern="manual">
            <map:redirect-to uri="manual/Introduction.html"/>
          </map:match>
          ]]></source>
      </answer>
    </faq>
  </part>

  <part id="general">
    <title>General</title>

    <faq id="generating_menus">
      <question>What is the relation between &s; and
        <code>book.xml</code>?
      </question>
      <answer>
        <p>
          One &s; file in your project root can replace all the book.xml files
          (one per directory) in your site.  Internally, Forrest uses &s; to
          dynamically generate book.xml files.  However, Forrest first checks
          for the existence of a book.xml file, so backwards-compatibility is
          preserved.  If a directory has a book.xml file, the book.xml will be
          used to generate the menu.  This is useful in situations where
          &s;-generated menus aren't appropriate.
      </p>
      </answer>
    </faq>

    <faq id="site_xml_format">
      <question>What's with this awful site.xml format?</question>
      <answer>
        <p>
          The <link href="site:linking">site.xml</link> format was designed for
          humans, not computers.  The goals were for &s; to be exceedingly
          simple, compact, easy to type and easy to read.  The reuse of element
          names as ids means that &s; has very few wasted characters.  This odd
          merging of <em>content</em> and <em>markup</em> has a few
          disadvantages (DTD validation is out), but nothing that outweighs the
          readability advantage.
        </p>
        <p>
          That said, pretty much any XML format may be used, simply by tweaking
          the XPath template in the sitemap.  In the future, &s; may be replaced
          with some more standardized format, perhaps RDF or <link
            href="http://www.topicmaps.org/xtm/1.0/">XTM (topic maps)</link>.
          Volunteers for implementing alternative formats are welcome.
        </p>
      </answer>
    </faq>

    <faq id="obsolete_docs">
      <question>
        Why am I a little confused by the Forrest documentation?
      </question>
      <answer>
        <p>
          Sorry, we are working on that for the next release. Forrest development has
          been very fast recently. Some of the documentation refers to old methods.
          Your best bet is to start with the
          <link href="site:your-project">Using Forrest</link> document.
        </p>
      </answer>
    </faq>

    <faq id="how_can_I_help">
      <question>
        How can i help?
      </question>
      <answer>
        <p>
          Join the forrest-dev <link href="site:mail-lists">mailing list</link>
          and help to discuss it. Read the 
          <link href="site:primer">Forrest Primer</link> for an overview.
          See the 
          <link href="site:todo">To Do List </link> and choose something that
          interests you.
        </p>
      </answer>
    </faq>
  </part>
</faqs>
