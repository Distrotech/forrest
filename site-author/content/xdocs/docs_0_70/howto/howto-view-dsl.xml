<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2002-2005 The Apache Software Foundation or its licensors,
  as applicable.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE howto PUBLIC "-//APACHE//DTD How-to V2.0//EN" "http://forrest.apache.org/dtd/howto-v20.dtd">

<howto>
 <header>
  <title>How to use the forrest:view config-DSL</title>
  <abstract>
    This How-To describes the usage of the forrest:view config Domain Specific Language 
    to create beautiful website in no time.
  </abstract>
  <last-modified-content-date date="2005-06-06"/>
 </header>

  <audience title="Intended Audience">

<warning>
"Views" are new functionality which is still in development phase. That is why it is in the
"whiteboard" section of the Forrest distribution.
This HowTo is far from being finished. 
</warning>

    <p>
      This part of the views is dedicated to webdesigner and user with some knowlegde of css.
    </p>
  </audience>
  
  <purpose title="Purpose">
    
    <p>
      This how-to will show you how to write a forrest:view from ground on. 
      We will focus on html as output format. As well it will show how to add your own css implementation to the view.
    </p>
  </purpose>

  <prerequisites title="Prerequisites">
    <ul>
      <li>You have a ready-to-go new seed based on views (like described in <a href="site:v0.70//howto/view/install">Install views</a>). </li>
    </ul>
  </prerequisites>

  <steps title="Steps">
    <p>
      We developed forrest:view to let the user decide where to place elements in e.g. html-pages.
      We started this work with the <code>skinconf.xml</code> where you could configure certain elements and
      their positions. This elements was known under certain names. It was up to the skin-designer to support 
      this configuration and the elements.
    </p>
    <p>
     The work started with grouping elements (the ones from skinconf). We used css-contracts that 
     we added as @attributes e.g. <code><![CDATA[<div id="content-main"/>]]> </code>. That made it 
     possible to use the same elements in different skins. For the full list refer to the
      <a href="http://svn.apache.org/viewcvs.cgi/*checkout*/forrest/trunk/main/webapp/skins/leather-dev/contracts.inicial.txt">
        inicial contract list
      </a>
    </p>
    <p>
     Around this contracts we developed a configuration Domain Specific Language and called it forrest:view.
     forrest:view's allows us to define the order in which forrest:contract's appear, and also to group
     them using forrest:hook's.
    </p>
    <p>
     forrest:hook's are container that are only used for layout reasons. They <strong>do not</strong> add 
     any content nor functionality to the output. They add <strong>only</strong> layout information to 
     the output.
    </p>
    <p>
     forrest:contract's are functionality or extra content that a skin can use to display the requested
     document (content-main). Sometimes a contact delivers format specific markup, other times it delivers
     a format-independent string.
    </p>
    <section id="emptyView">
      <title>Empty view file</title>
      <source><![CDATA[<forrest:views xmlns:forrest="http://apache.org/forrest/templates/1.0" >
  <forrest:view type="xhtml">    
  </forrest:view>  
</forrest:views>]]>
      </source>
      <p>
        forrest:view is designed to be open for any format that can use forrest:view as configuration file.
	The only format we implemented is xhtml for now. This is as well true for the delivered contracts.
      </p>
      <p>
        Now lets start to skin our site. :)
      </p>
    </section>
<!--
    <section id="usingContracts">
    <title>Using contracts</title>
    <p> 
     To start your skin you need to know which contracts you can use. 
    </p>
    <source>
cd ~/src/newSeed
forrest seed
mkdir src/documentation/conf
</source>
</section>
-->
<!--
<section id="forrestProperties">
<title>Modifying forrest.properties</title>
<p>
Now we have to tell forrest that we are planing to use the view plugins. We will do that
by editing to the forrest.properties to add the plugins:
</p>
<source>
project.required.plugins=org.apache.forrest.plugin.output.viewHelper.xhtml,org.apache.forrest.plugin.internal.view
</source>
<p>
     Now we have to change the project skin to leather-dev. The reason is that the plugins are still
not independend form the "old fashion skins".  
</p>
<note>We exchanging only
     site2xhtml.xsl of leather-dev skin by the plugins and some contracts are based
     on e.g. document2html.xsl output of leather-dev.</note>
<source>
project.skin=leather-dev
</source>
</section>
<section id="testing">
<title>Test your new view based project</title>
<p> 
Now you have finished the preparation and the setup to finally try
</p>
<source>
forrest run
</source>
<p>then point to <a href="http://localhost:8888/">http://localhost:8888/</a> and you should see the default
view based skin.</p>
<note>When developing styles with views 'forrest run' is the quickest
way. You will see you do not have to build your project to see the
changes on your pages when working with *.fv. </note>
</section>-->
  </steps><!--
  <extension title="Further Reading">
    <p>
      Congratulations you are now able to work with views. 
      From here we recommend to read the following How-To's:
    </p>
    <ul>
      <li><a href="site:v0.70//howto/view/DSL">Getting started with forrest:view DSL</a> </li>
      <li><a href="site:v0.70//howto/view/contracts">Create your own contract implementation</a> </li>
    </ul>
  </extension>
  <feedback title="Feedback">
    <p>
      Please provide feedback about this document via the
      <a href="site:mail-lists">mailing lists</a>.
    </p>
  </feedback>-->
</howto>
